from .base import BaseAgent
from .prompts import get_agent_prompt_with_examples


class RouterAgent(BaseAgent):
    """
    Интеллектуальный агент-роутер с ChatGPT для анализа запросов и направления к специалистам.

    Использует few-shot prompting для точной классификации запросов
    и определения оптимального агента для обработки.
    """

    def __init__(self) -> None:
        """
        Инициализация роутера с промптом и few-shot примерами.

        Создает экземпляр агента-роутера с настроенными промптами
        и интегрированными few-shot примерами для точной классификации
        входящих запросов пользователей.
        """
        system_prompt = get_agent_prompt_with_examples("router", "SYSTEM_PROMPT")
        super().__init__("router", system_prompt)

    def get_capabilities(self) -> list[str]:
        """
        Возвращает список возможностей роутера.

        Описывает основные функции агента-роутера по анализу
        и классификации входящих запросов от клиентов.

        Returns
        -------
            Список строк с описанием возможностей роутера

        """
        return [
            "Анализ намерений клиентов",
            "Маршрутизация к специалистам",
            "Few-shot классификация запросов",
            "Определение приоритета обращений",
            "Первичная обработка запросов",
        ]
