from .base import BaseAgent
from .prompts import get_agent_prompt_with_examples


class SupervisorAgent(BaseAgent):
    """
    Опытный супервизор с 12+ годами опыта урегулирования конфликтов.

    Эксперт по деэскалации, работе с жалобами, компенсациям
    и принятию сложных решений. Использует few-shot примеры для эффективного решения конфликтов.
    """

    def __init__(self) -> None:
        """
        Инициализация супервизора с промптом и примерами.

        Создает экземпляр агента-супервизора с экспертными знаниями
        в области урегулирования конфликтов и принятия сложных решений.
        Использует пониженную температуру для более предсказуемых ответов.
        """
        system_prompt = get_agent_prompt_with_examples("supervisor", "SYSTEM_PROMPT")
        super().__init__("supervisor", system_prompt, temperature=0.2)

    def get_capabilities(self) -> list[str]:
        """
        Возвращает список возможностей супервизора.

        Описывает экспертные области супервизора, включая
        деэскалацию конфликтов, работу с жалобами и принятие решений.

        Returns
        -------
            Список строк с описанием управленческих компетенций

        """
        return [
            "Деэскалация конфликтных ситуаций",
            "Урегулирование жалоб и споров",
            "Компенсации и возвраты",
            "Работа с VIP-клиентами",
            "Принятие сложных решений",
            "Авторизация скидок",
            "Эскалация к руководству",
            "Кризисное управление",
        ]
