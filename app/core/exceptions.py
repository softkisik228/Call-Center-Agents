from typing import Any


class CallCenterException(Exception):
    """
    Базовое исключение для всех ошибок системы колл-центра.

    Родительский класс для всех специфичных исключений в приложении.
    Предоставляет стандартизированный интерфейс для обработки ошибок
    с поддержкой дополнительных метаданных.

    Attributes
    ----------
        message: Основное сообщение об ошибке.
        details: Словарь с дополнительной технической информацией.

    """

    def __init__(self, message: str, details: dict[str, Any] | None = None) -> None:
        """
        Инициализация исключения.

        Args:
        ----
            message (str): Сообщение об ошибке для пользователя.
            details (dict[str, Any] | None): Дополнительные детали ошибки.

        """
        super().__init__(message)
        self.message = message
        self.details = details or {}


class AgentException(CallCenterException):
    """
    Исключение для ошибок в работе агентов.

    Используется для обработки ошибок, связанных с инициализацией,
    обработкой сообщений или взаимодействием между агентами.
    """


class DialogException(CallCenterException):
    """
    Исключение для ошибок в управлении диалогами.

    Охватывает ошибки создания, сохранения, загрузки и управления
    состоянием диалогов с клиентами.
    """


class EmbeddingException(CallCenterException):
    """
    Исключение для ошибок в сервисе эмбеддингов.

    Возникает при проблемах с генерацией или обработкой векторных
    представлений текста для семантического поиска.
    """


class ValidationException(CallCenterException):
    """
    Исключение для ошибок валидации данных.

    Используется при нарушении правил валидации входящих данных,
    некорректных параметрах запросов или невалидных моделях.
    """


class ConfigurationException(CallCenterException):
    """
    Исключение для ошибок конфигурации.

    Возникает при проблемах с настройками приложения, отсутствующих
    переменных окружения или некорректной конфигурации.
    """


class StorageException(CallCenterException):
    """
    Исключение для ошибок работы с хранилищем.

    Обрабатывает ошибки чтения, записи и доступа к файловой системе
    или другим системам хранения данных.
    """
